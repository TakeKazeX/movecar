<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#050505">
  <title>é€šçŸ¥è½¦ä¸»æŒªè½¦</title>
  <style>
    :root {
      --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
      --ease-elastic: cubic-bezier(0.34, 1.56, 0.64, 1);

      --card-max-width: 560px;
      --card-padding: 1.8rem;
      --card-radius: 28px;

      --text-glow: 0 1px 3px rgba(0, 0, 0, 0.35);

      --bg-base: #0a0a0c;
      --glass-surface: rgba(20, 20, 24, 0.65);
      --glass-border: rgba(255, 255, 255, 0.06);
      --glass-glow: rgba(255, 255, 255, 0.08);
      --glass-blur: 12px;
      --glass-edge-size: 1.5px;
      --card-shadow: 0 20px 50px -15px rgba(0, 0, 0, 0.35);

      --card-spotlight-size: 200px;
      --card-spotlight-color: rgba(255, 255, 255, 0.06);

      --btn-spotlight-size: 120px;
      --btn-source-size: 280px;
      --btn-source-rgb: 255, 255, 255;
      --btn-border-rgb: 255, 255, 255;
      --btn-hover-glow: rgba(255, 255, 255, 0.12);

      --text-primary: #ffffff;
      --text-secondary: rgba(255, 255, 255, 0.65);
      --accent: #ffffff;

      --btn-bg: rgba(255, 255, 255, 0.06);
      --btn-base-border: rgba(255, 255, 255, 0.08);
      --btn-hover-bg: #ffffff;
      --btn-hover-text: #000000;
      --btn-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);

      --toggle-bg: rgba(255, 255, 255, 0.12);
      --toggle-border: rgba(255, 255, 255, 0.18);
      --toggle-checked-bg: #22c55e;
      --toggle-checked-border: #16a34a;
      --toggle-knob: #ffffff;

      --fluid-1: rgba(139, 92, 246, 0.35);
      --fluid-2: rgba(236, 72, 153, 0.32);
      --fluid-3: rgba(59, 130, 246, 0.30);
      --fluid-4: rgba(251, 146, 60, 0.28);
      --fluid-5: rgba(168, 85, 247, 0.26);
      --fluid-6: rgba(14, 165, 233, 0.24);
      --fluid-base-1: #0a0a14;
      --fluid-base-2: #1a0a28;
      --fluid-base-3: #0a1428;
    }

    @media (prefers-color-scheme: light) {
      :root {
        --bg-base: #f0f4ff;
        --glass-surface: rgba(255, 255, 255, 0.45);
        --glass-border: rgba(0, 0, 0, 0.08);
        --glass-glow: rgba(255, 255, 255, 0.5);
        --glass-blur: 10px;
        --card-shadow: 0 12px 30px -10px rgba(0, 0, 0, 0.12);

        --card-spotlight-color: rgba(255, 255, 255, 0.5);

        --btn-source-rgb: 60, 60, 70;
        --btn-border-rgb: 80, 90, 110;
        --btn-hover-glow: rgba(0, 0, 0, 0.04);

        --text-primary: #0f172a;
        --text-secondary: #475569;
        --text-glow: 0 1px 2px rgba(0, 0, 0, 0.15);

        --btn-bg: rgba(255, 255, 255, 0.65);
        --btn-base-border: rgba(0, 0, 0, 0.1);
        --btn-hover-bg: #18181b;
        --btn-hover-text: #ffffff;
        --btn-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);

        --toggle-bg: rgba(15, 23, 42, 0.1);
        --toggle-border: rgba(15, 23, 42, 0.2);

        --fluid-1: rgba(217, 70, 239, 0.45);
        --fluid-2: rgba(59, 130, 246, 0.40);
        --fluid-3: rgba(251, 191, 36, 0.48);
        --fluid-4: rgba(236, 72, 153, 0.42);
        --fluid-5: rgba(139, 92, 246, 0.38);
        --fluid-6: rgba(34, 197, 94, 0.35);
        --fluid-base-1: #f8f0ff;
        --fluid-base-2: #fff0f8;
        --fluid-base-3: #fff7ed;
      }
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-font-smoothing: antialiased;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      font-family: -apple-system, system-ui, "Segoe UI", sans-serif;
      min-height: 100vh;
      background: linear-gradient(160deg, var(--bg-base) 0%, #0f0f12 100%);
      color: var(--text-primary);
      text-shadow: var(--text-glow);
      overflow-x: hidden;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: clamp(16px, 4vw, 24px);
      padding-top: calc(clamp(16px, 4vw, 24px) + env(safe-area-inset-top, 0px));
      padding-bottom: calc(clamp(16px, 4vw, 24px) + env(safe-area-inset-bottom, 0px));
    }

    @media (prefers-color-scheme: light) {
      body {
        background: linear-gradient(160deg, var(--bg-base) 0%, #d4dae6 100%);
      }
    }

    /* Fluid Background */
    .bg-fluid {
      position: fixed;
      inset: -25%;
      z-index: -10;
      background:
        radial-gradient(40% 50% at 15% 20%, var(--fluid-1), transparent 70%),
        radial-gradient(45% 55% at 85% 15%, var(--fluid-2), transparent 70%),
        radial-gradient(50% 60% at 35% 85%, var(--fluid-3), transparent 70%),
        radial-gradient(40% 50% at 80% 80%, var(--fluid-4), transparent 70%),
        linear-gradient(120deg, var(--fluid-base-1) 0%, var(--fluid-base-2) 50%, var(--fluid-base-3) 100%);
      opacity: 1;
      animation: fluid-drift 18s ease-in-out infinite alternate, fluid-shift 28s ease-in-out infinite;
      pointer-events: none;
      filter: saturate(1.3) contrast(1.05) brightness(1.1);
    }

    .bg-fluid::before,
    .bg-fluid::after {
      content: "";
      position: absolute;
      inset: -30%;
      pointer-events: none;
      mix-blend-mode: screen;
    }

    .bg-fluid::before {
      background:
        radial-gradient(55% 60% at 20% 30%, var(--fluid-5), transparent 70%),
        radial-gradient(60% 65% at 75% 65%, var(--fluid-6), transparent 72%),
        radial-gradient(45% 55% at 60% 15%, rgba(255, 255, 255, 0.08), transparent 70%);
      opacity: 0.85;
      filter: blur(3px);
      animation: fluid-float 22s ease-in-out infinite;
    }

    .bg-fluid::after {
      background:
        radial-gradient(60% 70% at 30% 75%, rgba(139, 92, 246, 0.20), transparent 70%),
        radial-gradient(50% 60% at 70% 35%, rgba(236, 72, 153, 0.18), transparent 70%),
        radial-gradient(55% 65% at 50% 50%, rgba(255, 255, 255, 0.06), transparent 75%);
      opacity: 0.7;
      filter: blur(8px);
      animation: fluid-sway 30s ease-in-out infinite alternate;
    }

    .bg-noise {
      position: fixed;
      inset: 0;
      z-index: -5;
      background:
        repeating-linear-gradient(0deg, rgba(255, 255, 255, 0.03) 0, rgba(255, 255, 255, 0.03) 1px, transparent 1px, transparent 2px),
        repeating-linear-gradient(90deg, rgba(255, 255, 255, 0.02) 0, rgba(255, 255, 255, 0.02) 1px, transparent 1px, transparent 3px);
      opacity: 0.12;
      pointer-events: none;
      mix-blend-mode: soft-light;
    }

    @keyframes fluid-drift {
      0% {
        transform: translate3d(0, 0, 0) scale(1);
      }

      50% {
        transform: translate3d(-3%, 2.5%, 0) scale(1.08);
      }

      100% {
        transform: translate3d(3%, -2%, 0) scale(1.05);
      }
    }

    @keyframes fluid-float {
      0% {
        transform: translate3d(0, 0, 0) scale(1);
      }

      50% {
        transform: translate3d(4%, -3%, 0) scale(1.10);
      }

      100% {
        transform: translate3d(-3%, 2%, 0) scale(1.06);
      }
    }

    @keyframes fluid-sway {
      0% {
        transform: translate3d(0, 0, 0) scale(1);
      }

      50% {
        transform: translate3d(-4%, 3.5%, 0) scale(1.09);
      }

      100% {
        transform: translate3d(3%, -2.5%, 0) scale(1.05);
      }
    }

    @keyframes fluid-shift {
      0% {
        background-position: 0% 0%, 100% 0%, 30% 100%, 80% 80%, 50% 50%;
      }

      50% {
        background-position: 10% 5%, 90% 10%, 20% 90%, 75% 70%, 45% 55%;
      }

      100% {
        background-position: 0% 0%, 100% 0%, 30% 100%, 80% 80%, 50% 50%;
      }
    }

    .main-container {
      width: 100%;
      display: flex;
      justify-content: center;
      position: relative;
      z-index: 1;
    }

    .container {
      width: 100%;
      max-width: var(--card-max-width);
      display: flex;
      flex-direction: column;
      gap: clamp(12px, 3vw, 18px);
    }

    /* Glass Card */
    .card {
      --gx: -1000px;
      --gy: -1000px;
      background:
        radial-gradient(var(--card-spotlight-size) circle at var(--gx) var(--gy), var(--card-spotlight-color), transparent 100%),
        var(--glass-surface);
      backdrop-filter: blur(var(--glass-blur)) saturate(1.25) brightness(1.03);
      -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(1.25) brightness(1.03);
      border: 1px solid var(--glass-border);
      border-radius: var(--card-radius);
      padding: var(--card-padding);
      box-shadow:
        var(--card-shadow),
        inset 0 0 0 0.5px var(--glass-glow);
      position: relative;
      overflow: hidden;
      isolation: isolate;
    }

    /* Card edge highlight */
    .card::before {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: inherit;
      padding: var(--glass-edge-size);
      background: linear-gradient(180deg,
          rgba(255, 255, 255, 0.12) 0%,
          rgba(255, 255, 255, 0) 50%,
          rgba(255, 255, 255, 0.04) 100%);
      mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      mask-composite: exclude;
      -webkit-mask-composite: xor;
      pointer-events: none;
      z-index: 0;
    }

    .header {
      display: flex;
      align-items: center;
      gap: clamp(12px, 3vw, 20px);
    }

    .icon-wrap {
      width: clamp(56px, 14vw, 78px);
      height: clamp(56px, 14vw, 78px);
      border-radius: clamp(16px, 4vw, 22px);
      background: rgba(255, 255, 255, 0.08);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: clamp(28px, 7vw, 38px);
      flex-shrink: 0;
    }

    .header-content h1 {
      font-size: clamp(22px, 5.5vw, 28px);
      font-weight: 700;
      letter-spacing: -0.5px;
      color: var(--text-primary);
      margin-bottom: 4px;
    }

    .header-content p {
      font-size: clamp(13px, 3.5vw, 15px);
      color: var(--text-secondary);
      font-weight: 500;
      letter-spacing: 0.5px;
    }

    .input-card {
      padding: 0;
    }

    .input-card textarea {
      width: 100%;
      min-height: 90px;
      padding: clamp(14px, 3.5vw, 20px);
      border: none;
      background: transparent;
      color: var(--text-primary);
      font-size: 16px;
      font-family: inherit;
      resize: none;
      outline: none;
    }

    .input-card textarea::placeholder {
      color: var(--text-secondary);
      opacity: 0.7;
    }

    .tags {
      display: flex;
      gap: clamp(6px, 2vw, 10px);
      padding: 0 clamp(12px, 3vw, 20px) clamp(14px, 3vw, 20px);
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
    }

    .tags::-webkit-scrollbar {
      display: none;
    }

    .tag {
      background: rgba(255, 255, 255, 0.08);
      color: var(--text-primary);
      padding: 10px 16px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      white-space: nowrap;
      cursor: pointer;
      border: 1px solid rgba(255, 255, 255, 0.06);
      min-height: 42px;
      display: flex;
      align-items: center;
      transition: transform 0.2s ease, background 0.2s ease;
    }

    .tag:active {
      transform: scale(0.96);
      background: rgba(255, 255, 255, 0.14);
    }

    .loc-card {
      display: flex;
      align-items: center;
      gap: clamp(10px, 3vw, 16px);
      cursor: pointer;
      min-height: 64px;
    }

    .loc-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .loc-icon {
      width: clamp(44px, 11vw, 56px);
      height: clamp(44px, 11vw, 56px);
      border-radius: clamp(14px, 3.5vw, 18px);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: clamp(22px, 5.5vw, 28px);
      flex-shrink: 0;
      background: rgba(255, 255, 255, 0.1);
      transition: background 0.3s ease;
    }

    .loc-icon.loading {
      animation: pulse 1.5s ease-in-out infinite;
    }

    @keyframes pulse {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.5;
      }
    }

    .loc-icon.ready {
      background: rgba(34, 197, 94, 0.2);
    }

    .loc-icon.error {
      background: rgba(239, 68, 68, 0.2);
    }

    .loc-content {
      flex: 1;
      min-width: 0;
    }

    .loc-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--text-primary);
    }

    .loc-status {
      font-size: 13px;
      color: var(--text-secondary);
      margin-top: 4px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    /* Toggle */
    .toggle {
      position: relative;
      display: inline-flex;
      align-items: center;
      width: 52px;
      height: 30px;
      flex-shrink: 0;
    }

    .toggle input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .toggle-slider {
      position: absolute;
      cursor: pointer;
      inset: 0;
      background: var(--toggle-bg);
      border: 1px solid var(--toggle-border);
      border-radius: 999px;
      transition: background 0.25s, border 0.25s;
    }

    .toggle-slider::before {
      content: "";
      position: absolute;
      height: 24px;
      width: 24px;
      left: 2px;
      top: 2px;
      background: var(--toggle-knob);
      border-radius: 50%;
      transition: transform 0.25s var(--ease-elastic);
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
    }

    .toggle input:checked+.toggle-slider {
      background: var(--toggle-checked-bg);
      border-color: var(--toggle-checked-border);
    }

    .toggle input:checked+.toggle-slider::before {
      transform: translateX(22px);
    }

    /* Spot Button - with spotlight border effect */
    .spot-btn {
      --bx: -1000px;
      --by: -1000px;
      --sx: -1000px;
      --sy: -1000px;
      --si: 0;
      --border-alpha: 0.06;
      --rx: 50%;
      --ry: 50%;
      position: relative;
      overflow: hidden;
      isolation: isolate;
      background:
        radial-gradient(var(--btn-spotlight-size) circle at var(--bx) var(--by), var(--btn-hover-glow), transparent 100%),
        var(--glass-surface);
      backdrop-filter: blur(var(--glass-blur)) saturate(1.25) brightness(1.03);
      -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(1.25) brightness(1.03);
      border: 1px solid var(--glass-border);
      box-shadow:
        var(--btn-shadow),
        inset 0 0 0 0.5px var(--glass-glow);
      transition: transform 0.3s var(--ease-out-expo);
    }

    .spot-btn>span {
      position: relative;
      z-index: 5;
    }

    /* Spotlight border - using mask technique */
    .spot-btn::before {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: inherit;
      padding: 1px;
      background:
        radial-gradient(var(--btn-spotlight-size) circle at var(--bx) var(--by), rgba(var(--btn-border-rgb), 0.85), transparent 100%),
        radial-gradient(var(--btn-source-size) circle at var(--sx) var(--sy), rgba(var(--btn-source-rgb), calc(0.9 * var(--si))), transparent 80%),
        linear-gradient(rgba(var(--btn-border-rgb), var(--border-alpha)), rgba(var(--btn-border-rgb), var(--border-alpha)));
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      mask-composite: exclude;
      -webkit-mask-composite: xor;
      pointer-events: none;
      z-index: 2;
    }

    /* Ripple effect */
    .spot-btn::after {
      content: "";
      position: absolute;
      width: var(--rsize, 320px);
      height: var(--rsize, 320px);
      border-radius: 50%;
      left: var(--rx);
      top: var(--ry);
      transform: translate(-50%, -50%) scale(0);
      opacity: 0;
      pointer-events: none;
      z-index: 1;
      background: var(--btn-hover-bg);
      transition: transform var(--ripple-ms, 280ms) var(--ease-out-expo), opacity var(--ripple-ms, 280ms) ease;
    }

    .spot-btn.ripple-on::after {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }

    .spot-btn.ripple-on>span {
      color: var(--btn-hover-text);
    }

    /* Main button */
    .btn-main {
      width: 100%;
      padding: clamp(16px, 4vw, 20px);
      border: none;
      border-radius: var(--card-radius);
      font-size: clamp(16px, 4vw, 18px);
      font-weight: 700;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      color: var(--text-primary);
      min-height: 56px;
    }

    .btn-main:active {
      transform: scale(0.98);
    }

    .btn-main:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Action buttons */
    .action-card {
      text-align: center;
    }

    .action-hint {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: 16px;
    }

    .btn-retry,
    .btn-phone {
      width: 100%;
      padding: 14px 20px;
      border: none;
      border-radius: 16px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      color: var(--text-primary);
      margin-bottom: 10px;
      text-decoration: none;
    }

    .btn-retry:disabled,
    .btn-phone.disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }

    /* Map links */
    .map-links {
      display: flex;
      gap: 10px;
      margin-top: 16px;
    }

    .map-btn {
      flex: 1;
      padding: 12px 16px;
      border-radius: 12px;
      text-decoration: none;
      font-weight: 600;
      font-size: 14px;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }

    .map-btn.amap {
      background: rgba(24, 144, 255, 0.2);
      color: #60a5fa;
    }

    .map-btn.apple {
      background: rgba(255, 255, 255, 0.1);
      color: var(--text-primary);
    }

    .owner-card {
      text-align: center;
    }

    .owner-card h3 {
      font-size: 20px;
      color: var(--text-primary);
      margin-bottom: 8px;
    }

    .owner-card p {
      font-size: 14px;
      color: var(--text-secondary);
    }

    .owner-card.hidden {
      display: none;
    }

    /* Toast */
    .toast {
      position: fixed;
      top: calc(20px + env(safe-area-inset-top, 0px));
      left: 50%;
      transform: translateX(-50%) translateY(-100px);
      background: rgba(0, 0, 0, 0.85);
      color: white;
      padding: 14px 24px;
      border-radius: 16px;
      font-size: 15px;
      font-weight: 500;
      z-index: 1000;
      opacity: 0;
      transition: transform 0.4s var(--ease-out-expo), opacity 0.3s ease;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      max-width: 90%;
      text-align: center;
    }

    .toast.show {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }

    /* Modal */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 200;
      padding: 20px;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
      backdrop-filter: blur(4px);
      -webkit-backdrop-filter: blur(4px);
    }

    .modal-overlay.show {
      opacity: 1;
      visibility: visible;
    }

    .modal-box {
      background: var(--glass-surface);
      backdrop-filter: blur(20px) saturate(1.3);
      -webkit-backdrop-filter: blur(20px) saturate(1.3);
      border: 1px solid var(--glass-border);
      border-radius: 24px;
      padding: clamp(24px, 6vw, 32px);
      max-width: 340px;
      width: 100%;
      text-align: center;
      transform: scale(0.9);
      transition: transform 0.3s var(--ease-out-expo);
      box-shadow: 0 30px 60px -20px rgba(0, 0, 0, 0.5);
    }

    .modal-overlay.show .modal-box {
      transform: scale(1);
    }

    .modal-icon {
      font-size: 48px;
      margin-bottom: 16px;
    }

    .modal-title {
      font-size: 18px;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 8px;
    }

    .modal-desc {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: 24px;
      line-height: 1.6;
    }

    .modal-buttons {
      display: flex;
      gap: 12px;
    }

    .modal-btn {
      flex: 1;
      padding: 14px 16px;
      border-radius: 14px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      border: none;
      color: var(--text-primary);
      transition: transform 0.2s ease;
    }

    .modal-btn:active {
      transform: scale(0.96);
    }

    .modal-btn-danger {
      background: rgba(239, 68, 68, 0.2);
      color: #fca5a5;
    }

    /* Countdown */
    .countdown-container {
      display: flex;
      justify-content: center;
      margin: 20px 0;
    }

    .flip-card {
      background: rgba(10, 10, 14, 0.9);
      color: white;
      font-size: clamp(60px, 15vw, 80px);
      font-weight: 700;
      line-height: 1;
      padding: 16px 26px;
      border-radius: 14px;
      min-width: 120px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      position: relative;
      letter-spacing: 2px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, monospace;
      transform-style: preserve-3d;
    }

    .flip-card::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 0;
      right: 0;
      height: 2px;
      background: rgba(0, 0, 0, 0.5);
      transform: translateY(-50%);
    }

    .flip-card.flip {
      animation: flipDown 0.45s cubic-bezier(0.2, 0.7, 0.3, 1);
    }

    @keyframes flipDown {
      0% {
        transform: rotateX(0deg);
      }

      49% {
        transform: rotateX(-90deg);
      }

      50% {
        transform: rotateX(90deg);
      }

      100% {
        transform: rotateX(0deg);
      }
    }

    @media (max-width: 768px) {
      :root {
        --card-padding: 1.4rem;
        --card-radius: 24px;
        --glass-edge-size: 1px;
      }

      .container {
        max-width: 94vw;
      }
    }
  </style>
</head>

<body>
  <div class="bg-fluid" aria-hidden="true"></div>
  <div class="bg-noise" aria-hidden="true"></div>

  <div id="toast" class="toast"></div>

  <div class="main-container">
    <div id="locationTipModal" class="modal-overlay">
      <div class="modal-box">
        <div class="modal-icon">ğŸ“</div>
        <div class="modal-title">ä½ç½®ä¿¡æ¯è¯´æ˜</div>
        <div class="modal-desc">åˆ†äº«ä½ç½®å¯è®©è½¦ä¸»ç¡®è®¤æ‚¨åœ¨è½¦æ—<br>ä¸åˆ†äº«å°† <span style="font-weight:bold; font-size:1.2em;"> å»¶è¿Ÿ </span> å‘é€é€šçŸ¥
        </div>
        <div class="modal-buttons">
          <button class="modal-btn spot-btn" onclick="hideModal('locationTipModal');"><span>æˆ‘çŸ¥é“äº†</span></button>
        </div>
      </div>
    </div>
    <div id="delayModal" class="modal-overlay">
      <div class="modal-box">
        <div class="modal-icon">â³</div>
        <div class="modal-title">æ­£åœ¨å»¶è¿Ÿå‘é€</div>
        <div class="modal-desc">æœªæä¾›ä½ç½®ä¿¡æ¯ï¼Œ<br>å°†åœ¨å€’è®¡æ—¶ç»“æŸåå‘é€é€šçŸ¥</div>
        <div class="countdown-container">
          <div id="countdownNum" class="flip-card">30</div>
        </div>
        <div class="modal-buttons">
          <button class="modal-btn modal-btn-danger spot-btn" onclick="cancelDelay()"><span>å–æ¶ˆå‘é€</span></button>
        </div>
      </div>
    </div>

    <div class="container" id="mainView">
      <div class="card header">
        <div class="icon-wrap"><span>ğŸš—</span></div>
        <div class="header-content">
          <h1>å‘¼å«è½¦ä¸»æŒªè½¦</h1>
          <p>Notify Car Owner</p>
        </div>
      </div>
      <div class="card input-card">
        <textarea id="msgInput" placeholder="è¾“å…¥ç•™è¨€ç»™è½¦ä¸»...ï¼ˆå¯é€‰ï¼‰"></textarea>
        <div class="tags">
          <div class="tag spot-btn" onclick="addTag('æ‚¨çš„è½¦æŒ¡ä½æˆ‘äº†')"><span>ğŸš§ æŒ¡è·¯</span></div>
          <div class="tag spot-btn" onclick="addTag('ä¸´æ—¶åœé ä¸€ä¸‹')"><span>â±ï¸ ä¸´åœ</span></div>
          <div class="tag spot-btn" onclick="addTag('ç”µè¯æ‰“ä¸é€š')"><span>ğŸ“ æ²¡æ¥</span></div>
          <div class="tag spot-btn" onclick="addTag('éº»çƒ¦å°½å¿«')"><span>ğŸ™ åŠ æ€¥</span></div>
        </div>
      </div>
      <div
        style="position: fixed; bottom: 10px; right: 10px; opacity: 0.35; font-size: 12px; color: rgba(255,255,255,0.5); pointer-events: none;">
        v2.0.0.beta</div>
      <div class="card loc-card">
        <div id="locIcon" class="loc-icon loading">ğŸ“</div>
        <div class="loc-content">
          <div class="loc-row">
            <div class="loc-title">æ˜¯å¦å‘é€ä½ç½®</div>
            <label class="toggle">
              <input id="shareLocationToggle" type="checkbox" checked>
              <span class="toggle-slider"></span>
            </label>
          </div>
          <div id="locStatus" class="loc-status">ç­‰å¾…è·å–...</div>
        </div>
      </div>
      <div id="mapContainer" class="card"
        style="display:none; height: 200px; padding: 0; overflow: hidden; margin-top: -10px;"></div>
      <button id="notifyBtn" class="btn-main spot-btn" onclick="sendNotify()">
        <span>ğŸ””</span>
        <span>ä¸€é”®é€šçŸ¥è½¦ä¸»</span>
      </button>
    </div>

    <div class="container" id="successView"
      style="display: none; flex-direction: column; align-items: center; justify-content: start; padding-top: 40px;">
      <div id="ownerFeedback" class="card owner-card hidden">
        <span style="font-size:56px; display:block; margin-bottom:16px">ğŸ‰</span>
        <h3>è½¦ä¸»å·²æ”¶åˆ°é€šçŸ¥</h3>
        <p>æ­£åœ¨èµ¶æ¥ï¼Œç‚¹å‡»æŸ¥çœ‹è½¦ä¸»ä½ç½®</p>
        <div id="ownerMapLinks" class="map-links" style="display:none">
          <a id="ownerAmapLink" href="#" class="map-btn amap spot-btn"><span>ğŸ—ºï¸ é«˜å¾·åœ°å›¾</span></a>
          <a id="ownerAppleLink" href="#" class="map-btn apple spot-btn"><span>ğŸ Apple Maps</span></a>
        </div>
      </div>

      <div id="waitingCard" class="card" style="text-align: center; margin-bottom: 15px;">
        <span style="font-size: 60px; display: block; margin-bottom: 20px;">âœ…</span>
        <h1 style="color: var(--text-primary); margin-bottom: 10px;">å·²é€šçŸ¥è½¦ä¸»</h1>
        <p id="waitingText" style="color: var(--text-secondary); font-size: 16px;">æ­£åœ¨ç­‰å¾…è½¦ä¸»å›åº”...</p>
      </div>

      <div class="card action-card">
        <p id="actionHint" class="action-hint">è½¦ä¸»æ²¡ååº”ï¼Ÿè¯•è¯•å…¶ä»–æ–¹å¼</p>
        <button id="retryBtn" class="btn-retry spot-btn" onclick="retryNotify()">
          <span>ğŸ””</span>
          <span>å†æ¬¡é€šçŸ¥</span>
        </button>
        <!-- PHONE_SECTION -->
        <!--
        <a id="phoneBtn" href="tel:13800138000" class="btn-phone spot-btn">
          <span>ğŸ“</span>
          <span>ç›´æ¥æ‰“ç”µè¯</span>
        </a>
        -->
        <div style="margin-top: 15px; text-align: center;">
          <a href="javascript:location.reload()"
            style="color: rgba(255,255,255,0.55); text-decoration: none; font-size: 14px;">è¿”å›é¦–é¡µ</a>
        </div>
      </div>
    </div>
  </div>

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <script>
    // Spotlight tracking effect
    (function () {
      const buttons = Array.from(document.querySelectorAll('.spot-btn'));
      const MAX_DIST = 110;
      const SOURCE_RADIUS = 300;
      let lastX = -10000;
      let lastY = -10000;
      let sourceX = -10000;
      let sourceY = -10000;
      let sourceIntensity = 0;
      let targetSourceIntensity = 0;
      let rafId = 0;

      const resetSpot = (btn) => {
        btn.style.setProperty('--bx', '-1000px');
        btn.style.setProperty('--by', '-1000px');
        btn.style.setProperty('--sx', '-1000px');
        btn.style.setProperty('--sy', '-1000px');
        btn.style.setProperty('--si', '0');
        btn.style.setProperty('--border-alpha', '0');
      };

      const setSpot = (btn, x, y, strength) => {
        const rect = btn.getBoundingClientRect();
        const bx = x - rect.left;
        const by = y - rect.top;
        const si = Math.max(0, Math.min(1, strength));
        btn.style.setProperty('--bx', bx + 'px');
        btn.style.setProperty('--by', by + 'px');
        btn.style.setProperty('--border-alpha', (0.04 + 0.22 * si).toFixed(3));
      };

      const updateAll = (x, y) => {
        const currentSource = sourceIntensity;
        buttons.forEach((btn) => {
          const rect = btn.getBoundingClientRect();
          const dx = Math.max(rect.left - x, 0, x - rect.right);
          const dy = Math.max(rect.top - y, 0, y - rect.bottom);
          const dist = Math.hypot(dx, dy);
          let borderAlpha = 0;

          if (dist <= MAX_DIST) {
            const strength = 1 - dist / MAX_DIST;
            setSpot(btn, x, y, strength);
            borderAlpha = Math.max(borderAlpha, 0.04 + 0.22 * strength);
          } else {
            resetSpot(btn);
          }

          if (currentSource > 0) {
            const cx = rect.left + rect.width / 2;
            const cy = rect.top + rect.height / 2;
            const sdist = Math.hypot(cx - sourceX, cy - sourceY);
            const sStrength = Math.max(0, 1 - sdist / SOURCE_RADIUS) * currentSource;
            const sBoost = Math.min(1, sStrength * 1.25);
            if (sBoost > 0) {
              btn.style.setProperty('--sx', (sourceX - rect.left) + 'px');
              btn.style.setProperty('--sy', (sourceY - rect.top) + 'px');
              btn.style.setProperty('--si', sBoost.toFixed(3));
              borderAlpha = Math.max(borderAlpha, 0.08 + 0.28 * sBoost);
            } else {
              btn.style.setProperty('--sx', '-1000px');
              btn.style.setProperty('--sy', '-1000px');
              btn.style.setProperty('--si', '0');
            }
          } else {
            btn.style.setProperty('--sx', '-1000px');
            btn.style.setProperty('--sy', '-1000px');
            btn.style.setProperty('--si', '0');
          }
          btn.style.setProperty('--border-alpha', borderAlpha.toFixed(3));
        });
      };

      const tick = () => {
        sourceIntensity += (targetSourceIntensity - sourceIntensity) * 0.12;
        if (Math.abs(targetSourceIntensity - sourceIntensity) < 0.01) {
          sourceIntensity = targetSourceIntensity;
        }
        if (lastX > -9999) {
          updateAll(lastX, lastY);
        }
        if (Math.abs(targetSourceIntensity - sourceIntensity) >= 0.01) {
          rafId = requestAnimationFrame(tick);
        } else {
          rafId = 0;
        }
      };

      const resetAll = () => {
        buttons.forEach(resetSpot);
        sourceIntensity = 0;
        targetSourceIntensity = 0;
        sourceX = -10000;
        sourceY = -10000;
        lastX = -10000;
        lastY = -10000;
      };

      document.addEventListener('pointermove', (e) => {
        lastX = e.clientX;
        lastY = e.clientY;
        updateAll(lastX, lastY);
      });

      document.addEventListener('pointerout', (e) => {
        if (!e.relatedTarget) resetAll();
      });

      document.addEventListener('pointerleave', resetAll);
      document.addEventListener('mouseleave', resetAll);
      document.addEventListener('pointercancel', resetAll);

      window.addEventListener('blur', resetAll);
      window.addEventListener('resize', () => {
        if (lastX > -9999) updateAll(lastX, lastY);
      });

      buttons.forEach((btn) => {
        resetSpot(btn);
        btn.addEventListener('pointerenter', (e) => {
          sourceX = e.clientX;
          sourceY = e.clientY;
          targetSourceIntensity = 1;
          if (!rafId) rafId = requestAnimationFrame(tick);
        });
        btn.addEventListener('pointerleave', () => {
          targetSourceIntensity = 0;
          if (!rafId) rafId = requestAnimationFrame(tick);
        });
        btn.addEventListener('pointerdown', (e) => {
          btn.dataset.pressStart = String(performance.now());
          const rect = btn.getBoundingClientRect();
          const rx = e.clientX - rect.left;
          const ry = e.clientY - rect.top;
          const size = Math.max(rect.width, rect.height) * 2.2;
          btn.style.setProperty('--rx', rx + 'px');
          btn.style.setProperty('--ry', ry + 'px');
          btn.style.setProperty('--rsize', size + 'px');
          btn.style.setProperty('--ripple-ms', '180ms');
          btn.classList.remove('ripple-on');
          void btn.offsetWidth;
          btn.classList.add('ripple-on');
          if (btn._rippleTimer) clearTimeout(btn._rippleTimer);
        });
        const endRipple = () => {
          const start = Number(btn.dataset.pressStart || 0);
          const elapsed = Math.max(0, performance.now() - start);
          const outMs = Math.min(520, Math.max(160, Math.round(160 + elapsed * 0.45)));
          btn.style.setProperty('--ripple-ms', outMs + 'ms');
          if (btn._rippleTimer) clearTimeout(btn._rippleTimer);
          btn._rippleTimer = setTimeout(() => btn.classList.remove('ripple-on'), outMs);
        };
        btn.addEventListener('pointerup', endRipple);
        btn.addEventListener('pointercancel', endRipple);
      });
    })();
  </script>
</body>

</html>